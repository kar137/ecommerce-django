{% extends "base.html" %}  <!-- Extend from base template if you have one -->

{% load widget_tweaks %}

{% block title %} Add Product {% endblock %}

{% block content %}

<section class="flex justify-center items-center min-h-screen bg-gray-100">
    <div class="container mx-auto mt-10 bg-white p-6 shadow-md rounded-md max-w-2xl">
        <h2 class="text-2xl font-semibold mb-4">Add a New Product</h2>
    
        <!-- Product Form -->
        <form method="post" enctype="multipart/form-data" class="bg-white p-6 shadow-md rounded-md max-w-lg">
            {% csrf_token %}
            
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold ">Product Name</label>
                {{ form.name|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold">Category</label>
                {{ form.category|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold">Description</label>
                {{ form.description|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold">Price</label>
                {{ form.price|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold">Stocks Available</label>
                {{ form.stock|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold">Upload Image</label>
                {{ form.image|add_class:"border border-gray-400 rounded-lg p-2 w-full focus:border-blue-500 focus:outline-none" }}
            </div>
    
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition duration-300">
                Add Product
            </button>
        </form>
    </div>

</section>

<!-- Display Products -->
<h2 class="text-2xl font-semibold mt-8 mb-4">Product List</h2>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    {% for product in products %}
    <div class="bg-white p-4 text-center shadow-md rounded-lg">
        {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-40 object-cover rounded-md">
        {% else %}
            <p>No image available</p>
        {% endif %}
        <h3 class="text-gray-700 font-semibold">{{ product.name }}</h3>
        <p class="text-gray-500">Category: {{ product.category.name }}</p>
    </div>
    {% endfor %}
</div>

{% endblock %}